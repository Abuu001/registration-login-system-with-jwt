{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _regeneratorRuntime from\"/media/lugonzo/New Volume/Web projects/node_js_backend/Registration Login With Jwt/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/media/lugonzo/New Volume/Web projects/node_js_backend/Registration Login With Jwt/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/media/lugonzo/New Volume/Web projects/node_js_backend/Registration Login With Jwt/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{Fragment,useEffect,useState}from'react';import{toast}from'react-toastify';function Dashboard(_ref){var setAuth=_ref.setAuth;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var getName=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,parseRes;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"http://localhost:3002/dashboard\",{method:\"GET\",headers:{token:localStorage.token}});case 3:response=_context.sent;_context.next=6;return response.json();case 6:parseRes=_context.sent;setName(parseRes.user_name);console.log(parseRes);_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);console.log(_context.t0.message);case 14:case\"end\":return _context.stop();}}},_callee,null,[[0,11]]);}));return function getName(){return _ref2.apply(this,arguments);};}();var logout=function logout(e){e.preventDefault();localStorage.removeItem(\"token\");setAuth(false);toast.dark(\"Logged out Successfully\");};useEffect(function(){getName();},[]);return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Dashboard\"}),/*#__PURE__*/_jsxs(\"h3\",{children:[\"Welcome \",name]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary btn-block\",onClick:function onClick(e){return logout(e);},children:\"Log Out\"})]});}export default Dashboard;","map":{"version":3,"sources":["/media/lugonzo/New Volume/Web projects/node_js_backend/Registration Login With Jwt/frontend/src/components/Login__Registration/Dashboard/Dashboard.js"],"names":["React","Fragment","useEffect","useState","toast","Dashboard","setAuth","name","setName","getName","fetch","method","headers","token","localStorage","response","json","parseRes","user_name","console","log","message","logout","e","preventDefault","removeItem","dark"],"mappings":"2sBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAAyBC,SAAzB,CAAmCC,QAAnC,KAAmD,OAAnD,CACA,OAASC,KAAT,KAAsB,gBAAtB,CAEA,QAASC,CAAAA,SAAT,MAA8B,IAAVC,CAAAA,OAAU,MAAVA,OAAU,eACLH,QAAQ,CAAC,EAAD,CADH,wCACnBI,IADmB,eACdC,OADc,eAG1B,GAAMC,CAAAA,OAAO,2FAAE,+LAEgBC,CAAAA,KAAK,CAAC,iCAAD,CAAmC,CAC3DC,MAAM,CAAE,KADmD,CAE3DC,OAAO,CAAG,CAACC,KAAK,CAAGC,YAAY,CAACD,KAAtB,CAFiD,CAAnC,CAFrB,QAEDE,QAFC,qCAMiBA,CAAAA,QAAQ,CAACC,IAAT,EANjB,QAMDC,QANC,eAOPT,OAAO,CAACS,QAAQ,CAACC,SAAV,CAAP,CACAC,OAAO,CAACC,GAAR,CAAYH,QAAZ,EARO,iFAUPE,OAAO,CAACC,GAAR,CAAY,YAAMC,OAAlB,EAVO,qEAAF,kBAAPZ,CAAAA,OAAO,2CAAb,CAcA,GAAMa,CAAAA,MAAM,CAAC,QAAPA,CAAAA,MAAO,CAACC,CAAD,CAAK,CACdA,CAAC,CAACC,cAAF,GACAV,YAAY,CAACW,UAAb,CAAwB,OAAxB,EACAnB,OAAO,CAAC,KAAD,CAAP,CACAF,KAAK,CAACsB,IAAN,CAAW,yBAAX,EACH,CALD,CAOAxB,SAAS,CAAC,UAAI,CACVO,OAAO,GACV,CAFQ,CAEP,EAFO,CAAT,CAGA,mBACC,MAAC,QAAD,yBACI,iCADJ,cAEI,iCAAaF,IAAb,GAFJ,cAGI,eAAU,SAAS,CAAC,2BAApB,CAAgD,OAAO,CAAE,iBAAAgB,CAAC,QAAED,CAAAA,MAAM,CAACC,CAAD,CAAR,EAA1D,qBAHJ,GADD,CAOH,CAED,cAAelB,CAAAA,SAAf","sourcesContent":["import React, { Fragment,useEffect,useState } from 'react'\nimport { toast } from 'react-toastify';\n\nfunction Dashboard({setAuth}) {\n    const [name,setName]=useState(\"\")\n\n    const getName =async ()=>{\n        try {\n            const response = await fetch(\"http://localhost:3002/dashboard\",{\n                method :\"GET\",\n                headers : {token : localStorage.token },\n            })\n            const parseRes =  await response.json()\n            setName(parseRes.user_name)\n            console.log(parseRes);\n        } catch (error) {\n            console.log(error.message);\n        }\n    }\n\n    const logout=(e)=>{\n        e.preventDefault()\n        localStorage.removeItem(\"token\")\n        setAuth(false)\n        toast.dark(\"Logged out Successfully\")\n    }\n\n    useEffect(()=>{\n        getName()\n    },[])\n    return (\n     <Fragment>\n         <h1>Dashboard</h1>\n         <h3>Welcome {name}</h3>\n         <button   className=\"btn btn-primary btn-block\" onClick={e=>logout(e)}>Log Out</button>\n     </Fragment>\n    )\n}\n\nexport default Dashboard\n"]},"metadata":{},"sourceType":"module"}