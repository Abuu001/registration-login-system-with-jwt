{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _regeneratorRuntime from\"/media/lugonzo/New Volume/Web projects/node_js_backend/Registration Login With Jwt/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/media/lugonzo/New Volume/Web projects/node_js_backend/Registration Login With Jwt/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"/media/lugonzo/New Volume/Web projects/node_js_backend/Registration Login With Jwt/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/media/lugonzo/New Volume/Web projects/node_js_backend/Registration Login With Jwt/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/media/lugonzo/New Volume/Web projects/node_js_backend/Registration Login With Jwt/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{Fragment,useState}from'react';import{Link}from\"react-router-dom\";import{toast}from'react-toastify';import\"./Login.css\";function Login(_ref){var setAuth=_ref.setAuth;var _useState=useState({email:\"\",password:\"\"}),_useState2=_slicedToArray(_useState,2),inputs=_useState2[0],setInputs=_useState2[1];var email=inputs.email,password=inputs.password,name=inputs.name;var _onChange=function onChange(e){setInputs(_objectSpread(_objectSpread({},inputs),{},_defineProperty({},e.target.name,e.target.value)));};var onSubmitForm=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var body,response,parseRes;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;body={email:email,password:password,name:name};_context.next=5;return fetch(\"http://localhost:3002/auth/login\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(body)});case 5:response=_context.sent;_context.next=8;return response.json();case 8:parseRes=_context.sent;if(parseRes.token){localStorage.setItem(\"token\",parseRes.token);setAuth(true);parseRes.message===\"Password or Email is incorrect\"?setAuth(false):setAuth(true);toast.success(\"Login successfully !!\");}else{toast.error(parseRes.message,{position:\"top-right\",autoClose:5000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined});}_context.next=15;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](1);console.log(_context.t0.message);case 15:case\"end\":return _context.stop();}}},_callee,null,[[1,12]]);}));return function onSubmitForm(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{class:\"container login-container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Login\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmitForm,children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",placeholder:\"email\",className:\"form-control my-3\",value:email,onChange:function onChange(e){return _onChange(e);},required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",placeholder:\"password\",className:\"form-control my-3\",value:password,onChange:function onChange(e){return _onChange(e);},required:true}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-success btn-block\",children:\"Login\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Not Registered ?   \",/*#__PURE__*/_jsx(Link,{to:\"/register\",children:\"Register an account\"}),\" \"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"socialmedia__Icons\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"/register\",class:\" socialMedia__Icon1 \",children:/*#__PURE__*/_jsx(\"i\",{class:\"fab fa-google \",children:\" \"})}),/*#__PURE__*/_jsx(\"a\",{href:\"/register\",class:\" socialMedia__Icon2\",children:/*#__PURE__*/_jsx(\"i\",{class:\"fab fa-twitter\",\"aria-hidden\":\"true\"})}),/*#__PURE__*/_jsx(\"a\",{href:\"/register\",class:\" socialMedia__Icon3\",children:/*#__PURE__*/_jsx(\"i\",{class:\"fab fa-facebook\",\"aria-hidden\":\"true\"})}),/*#__PURE__*/_jsx(\"a\",{href:\"/register\",class:\" socialMedia__Icon4\",children:/*#__PURE__*/_jsx(\"i\",{class:\"fab fa-instagram\",\"aria-hidden\":\"true\"})}),/*#__PURE__*/_jsx(\"a\",{href:\"/register\",class:\" socialMedia__Icon5\",children:/*#__PURE__*/_jsx(\"i\",{class:\"fab fa-whatsapp\",\"aria-hidden\":\"true\"})})]})]})});}export default Login;","map":{"version":3,"sources":["/media/lugonzo/New Volume/Web projects/node_js_backend/Registration Login With Jwt/frontend/src/components/Login__Registration/Login.js"],"names":["React","Fragment","useState","Link","toast","Login","setAuth","email","password","inputs","setInputs","name","onChange","e","target","value","onSubmitForm","preventDefault","body","fetch","method","headers","JSON","stringify","response","json","parseRes","token","localStorage","setItem","message","success","error","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","console","log"],"mappings":"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","sourcesContent":["import React, { Fragment,useState } from 'react'\nimport {Link} from \"react-router-dom\"\nimport { toast } from 'react-toastify';\nimport \"./Login.css\"\n\nfunction Login({setAuth}) {\n\n    const [inputs,setInputs]=useState({\n        email : \"\",\n        password : \"\"\n    })\n\n    const {email,password,name} = inputs;\n    const onChange =(e)=>{\n        setInputs({...inputs,[e.target.name]  : e.target.value })\n    }   \n\n    const onSubmitForm= async (e)=>{\n        e.preventDefault()\n        try {\n            const body = {email,password,name}\n            const response = await fetch(\"http://localhost:3002/auth/login\",{\n                method :\"POST\",\n                headers : {\"Content-Type\" : \"application/json\"},\n                body  : JSON.stringify(body)\n            })\n\n            const parseRes = await response.json()\n            if(parseRes.token){\n                localStorage.setItem(\"token\", parseRes.token)\n                setAuth(true)\n                parseRes.message === \"Password or Email is incorrect\" ?  setAuth(false) : setAuth(true)\n                toast.success(\"Login successfully !!\")\n            }else{\n                toast.error(parseRes.message, {\n                    position: \"top-right\",\n                    autoClose: 5000,\n                    hideProgressBar: false,\n                    closeOnClick: true,\n                    pauseOnHover: true,\n                    draggable: true,\n                    progress: undefined,\n                    })\n            }\n   \n        } catch (error) {\n            console.log(error.message);\n        }\n    }\n    return (\n    <Fragment>\n        <div class=\"container login-container\">\n            <h1>Login</h1>\n            <form onSubmit={onSubmitForm} >\n                <input type=\"email\" name=\"email\"  placeholder=\"email\"  className=\"form-control my-3\"  value={email} onChange={e=>onChange(e)} required/>\n                <input type=\"password\" name=\"password\"  placeholder=\"password\"  className=\"form-control my-3\"  value={password}  onChange={e=>onChange(e)} required/>\n                <button className=\"btn btn-success btn-block\">Login</button>\n            </form>\n            <br></br>\n            <br></br>\n            <br></br>\n          <p>Not Registered ?   <Link to=\"/register\">Register an account</Link> </p>\n            <div  className=\"socialmedia__Icons\">\n               <a href=\"/register\" class=\" socialMedia__Icon1 \">\n                    <i class=\"fab fa-google \"> </i> \n                </a>\n                <a href=\"/register\" class=\" socialMedia__Icon2\">\n                <i class=\"fab fa-twitter\" aria-hidden=\"true\"></i>\n                    </a>\n                    <a href=\"/register\" class=\" socialMedia__Icon3\">\n                    <i class=\"fab fa-facebook\" aria-hidden=\"true\"></i>\n                </a> \n                <a href=\"/register\" class=\" socialMedia__Icon4\">\n                <i class=\"fab fa-instagram\" aria-hidden=\"true\"></i>\n                </a> \n                <a href=\"/register\" class=\" socialMedia__Icon5\">\n                <i class=\"fab fa-whatsapp\" aria-hidden=\"true\"></i>\n                </a> \n            </div>\n        </div>\n    </Fragment>\n    )\n}\n\nexport default Login\n"]},"metadata":{},"sourceType":"module"}