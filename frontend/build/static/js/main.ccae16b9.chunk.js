(this.webpackJsonpregistration=this.webpackJsonpregistration||[]).push([[0],{28:function(e,t,a){},30:function(e,t,a){},31:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var s=a(1),c=a(0),n=a.n(c),r=a(13),o=a.n(r),i=(a(28),a(5)),l=a(7),j=a.n(l),u=a(11),b=a(12),d=(a(30),a(16)),h=a(2),f=a(15),O=a(9);a(31);var p=function(e){var t=e.setAuth,a=Object(c.useState)({email:"",password:""}),n=Object(b.a)(a,2),r=n[0],o=n[1],l=r.email,h=r.password,p=r.name,x=function(e){o(Object(i.a)(Object(i.a)({},r),{},Object(f.a)({},e.target.name,e.target.value)))},m=function(){var e=Object(u.a)(j.a.mark((function e(a){var s,c,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,s={email:l,password:h,name:p},e.next=5,fetch("http://localhost:3002/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});case 5:return c=e.sent,e.next=8,c.json();case 8:(n=e.sent).token?(localStorage.setItem("token",n.token),t(!0),"Password or Email is incorrect"===n.message?t(!1):t(!0),O.a.success("Login successfully !!")):O.a.error(n.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(s.jsx)(c.Fragment,{children:Object(s.jsxs)("div",{class:"container login-container",children:[Object(s.jsx)("h1",{children:"Login"}),Object(s.jsxs)("form",{onSubmit:m,children:[Object(s.jsx)("input",{type:"email",name:"email",placeholder:"email",className:"form-control my-3",value:l,onChange:function(e){return x(e)},required:!0}),Object(s.jsx)("input",{type:"password",name:"password",placeholder:"password",className:"form-control my-3",value:h,onChange:function(e){return x(e)},required:!0}),Object(s.jsx)("button",{className:"btn btn-success btn-block",children:"Login"})]}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsxs)("p",{children:["Not Registered ?   ",Object(s.jsx)(d.b,{to:"/register",children:"Register an account"})," "]}),Object(s.jsxs)("div",{className:"socialmedia__Icons",children:[Object(s.jsx)("a",{href:"/register",class:" socialMedia__Icon1 ",children:Object(s.jsx)("i",{class:"fab fa-google ",children:" "})}),Object(s.jsx)("a",{href:"/register",class:" socialMedia__Icon2",children:Object(s.jsx)("i",{class:"fab fa-twitter","aria-hidden":"true"})}),Object(s.jsx)("a",{href:"/register",class:" socialMedia__Icon3",children:Object(s.jsx)("i",{class:"fab fa-facebook","aria-hidden":"true"})}),Object(s.jsx)("a",{href:"/register",class:" socialMedia__Icon4",children:Object(s.jsx)("i",{class:"fab fa-instagram","aria-hidden":"true"})}),Object(s.jsx)("a",{href:"/register",class:" socialMedia__Icon5",children:Object(s.jsx)("i",{class:"fab fa-whatsapp","aria-hidden":"true"})})]})]})})};var x=function(e){var t=e.setAuth,a=Object(c.useState)({name:"",email:"",password:""}),n=Object(b.a)(a,2),r=n[0],o=n[1],l=r.email,h=r.name,p=r.password,x=function(e){o(Object(i.a)(Object(i.a)({},r),{},Object(f.a)({},e.target.name,e.target.value)))},m=function(){var e=Object(u.a)(j.a.mark((function e(a){var s,c,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,s={email:l,name:h,password:p},e.next=5,fetch("http://localhost:3002/auth/register",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(s)});case 5:return c=e.sent,e.next=8,c.json();case 8:(n=e.sent).token?(localStorage.setItem("token",n.token),t(!0),O.a.success("Registered successfully")):O.a.error(n.message),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(s.jsx)(c.Fragment,{children:Object(s.jsxs)("div",{class:"container login-container",children:[Object(s.jsx)("h1",{className:"text-centre",children:"Registration"}),Object(s.jsxs)("form",{onSubmit:m,children:[Object(s.jsx)("input",{type:"text",name:"name",placeholder:"name",className:"form-control my-3",value:h,onChange:function(e){return x(e)},required:!0}),Object(s.jsx)("input",{type:"email",name:"email",placeholder:"email",className:"form-control my-3",value:l,onChange:function(e){return x(e)},required:!0}),Object(s.jsx)("input",{type:"password",name:"password",placeholder:"password",className:"form-control my-3",value:p,onChange:function(e){return x(e)},required:!0}),Object(s.jsx)("button",{className:"btn btn-success btn-block",children:"Register"})]}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsxs)("p",{children:["Already have an account?   ",Object(s.jsx)(d.b,{to:"/login",children:"Login"})," "]}),Object(s.jsxs)("div",{className:"socialmedia__Icons",children:[Object(s.jsx)("a",{href:"/register",class:" socialMedia__Icon1 ",children:Object(s.jsx)("i",{class:"fab fa-google ",children:" "})}),Object(s.jsx)("a",{href:"/register",class:" socialMedia__Icon2",children:Object(s.jsx)("i",{class:"fab fa-twitter","aria-hidden":"true"})}),Object(s.jsx)("a",{href:"/register",class:" socialMedia__Icon3",children:Object(s.jsx)("i",{class:"fab fa-facebook","aria-hidden":"true"})}),Object(s.jsx)("a",{href:"/register",class:" socialMedia__Icon4",children:Object(s.jsx)("i",{class:"fab fa-instagram","aria-hidden":"true"})}),Object(s.jsx)("a",{href:"/register",class:" socialMedia__Icon5",children:Object(s.jsx)("i",{class:"fab fa-whatsapp","aria-hidden":"true"})})]})]})})};var m=function(e){var t=e.setAuth,a=Object(c.useState)(""),n=Object(b.a)(a,2),r=n[0],o=n[1],i=function(){var e=Object(u.a)(j.a.mark((function e(){var t,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://localhost:3002/dashboard",{method:"GET",headers:{token:localStorage.token}});case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,o(a.user_name),console.log(a),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){i()}),[]),Object(s.jsxs)(c.Fragment,{children:[Object(s.jsx)("h1",{children:"Dashboard"}),Object(s.jsxs)("h3",{children:["Welcome ",r]}),Object(s.jsx)("button",{className:"btn btn-primary btn-block",onClick:function(e){return function(e){e.preventDefault(),localStorage.removeItem("token"),t(!1),O.a.dark("Logged out Successfully")}(e)},children:"Log Out"})]})};a(37);O.a.configure();var g=function(){var e=Object(c.useState)(!1),t=Object(b.a)(e,2),a=t[0],n=t[1],r=function(){var e=Object(u.a)(j.a.mark((function e(){var t,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://localhost:3002/auth/is-verify",{method:"GET",headers:{token:localStorage.token}});case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,n(!0===a),console.log(a),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){r()}),[]);var o=function(e){n(e)};return Object(s.jsx)(c.Fragment,{children:Object(s.jsx)(d.a,{children:Object(s.jsx)("div",{className:"container",children:Object(s.jsxs)(h.d,{children:[Object(s.jsx)(h.b,{exact:!0,path:"/login",render:function(e){return a?Object(s.jsx)(h.a,{to:"/dashboard"}):Object(s.jsx)(p,Object(i.a)(Object(i.a)({},e),{},{setAuth:o}))}}),Object(s.jsx)(h.b,{exact:!0,path:"/register",render:function(e){return a?Object(s.jsx)(h.a,{to:"/login"}):Object(s.jsx)(x,Object(i.a)(Object(i.a)({},e),{},{setAuth:o}))}}),Object(s.jsx)(h.b,{exact:!0,path:"/dashboard",render:function(e){return a?Object(s.jsx)(m,Object(i.a)(Object(i.a)({},e),{},{setAuth:o})):Object(s.jsx)(h.a,{to:"/login"})}})]})})})})};o.a.render(Object(s.jsx)(n.a.StrictMode,{children:Object(s.jsx)(g,{})}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.ccae16b9.chunk.js.map